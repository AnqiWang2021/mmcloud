The script and this README were automatically generated by claude.ai based on some initial draft scripts from us.

# S3-FTP Transfer Tool

A Python script for bidirectional transfers between S3 and FTP/FTPS/SFTP.

## Installation

```bash
pip install boto3 paramiko
```

## Usage

```
python s3_ftp_transfer.py --mode upload|download --ftp-host HOST --ftp-user USER \
                          --ftp-password PASS --ftp-path PATH --s3-bucket BUCKET \
                          --s3-path PATH [options]
```

## Examples

Upload a file to S3:
```bash
python s3_ftp_transfer.py --mode upload \
    --ftp-host ftp.example.com --ftp-user user --ftp-password pass \
    --ftp-path /remote/file.txt \
    --s3-bucket my-bucket --s3-path path/file.txt
```

Download from S3:
```bash
python s3_ftp_transfer.py --mode download \
    --ftp-host ftp.example.com --ftp-user user --ftp-password pass \
    --ftp-path /local/path/ \
    --s3-bucket my-bucket --s3-path files/
```

## Features

- Automatic file/directory detection
- Support for FTP, FTPS, and SFTP protocols
- Chunked transfers with 100MB default chunk size
- Recursive directory processing with `--recursive`
- Protocol auto-detection

## Options

| Option | Description |
|--------|-------------|
| `--mode` | Transfer direction (upload or download) |
| `--protocol` | FTP protocol (auto, ftp, ftps, sftp) |
| `--ftp-host` | FTP server hostname or IP |
| `--ftp-port` | FTP server port (default: 21/22) |
| `--ftp-user` | FTP username |
| `--ftp-password` | FTP password |
| `--ftp-path` | Path on FTP server |
| `--s3-bucket` | S3 bucket name |
| `--s3-path` | Path/key in S3 bucket |
| `--chunk-size` | Chunk size in bytes (default: 100MB) |
| `--recursive` | Process directories recursively |
| `--verbose` | Enable verbose logging |

## Notes

- Paths ending with '/' are treated as directories
- AWS credentials are read from environment or ~/.aws/credentials
- For large files, multipart uploads/downloads are used automatically
- Existing files with matching size are skipped
